(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/uni-center"],{"084f":function(n,e,t){"use strict";t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var o={uIcon:function(){return t.e("node-modules/uview-ui/components/u-icon/u-icon").then(t.bind(null,"5bde"))},uModal:function(){return t.e("node-modules/uview-ui/components/u-modal/u-modal").then(t.bind(null,"1d32"))}},r=function(){var n=this,e=n.$createElement;n._self._c},i=[]},"30eb":function(n,e,t){"use strict";t.r(e);var o=t("084f"),r=t("4818");for(var i in r)"default"!==i&&function(n){t.d(e,n,(function(){return r[n]}))}(i);t("5fcf");var u,s=t("f0c5"),a=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=a.exports},4818:function(n,e,t){"use strict";t.r(e);var o=t("7b70"),r=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=r.a},"5fcf":function(n,e,t){"use strict";var o=t("9a5a"),r=t.n(o);r.a},"7b70":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(t("007a")),r=i(t("7a1f"));function i(n){return n&&n.__esModule?n:{default:n}}var u=function(){t.e("components/open-button/index").then(function(){return resolve(t("9995"))}.bind(null,t)).catch(t.oe)},s={data:function(){return{show:!1,UserInfo:{login:!1,avatarUrl:t("464b"),city:"门头沟",country:"中国",gender:1,language:"zh_CN",nickName:"君思",province:"北京"},user:{token:null,userid:null,openid:null}}},onLoad:function(){n.hideShareMenu();var e=o.default.getters["getUser"];e.userid&&(this.user.token=e.token,this.user.userid=e.userid,this.user.openid=e.openid,this.UserInfo.login=e.login,this.UserInfo.avatarUrl=e.avatarUrl,this.UserInfo.city=e.city,this.UserInfo.country=e.country,this.UserInfo.gender=e.gender,this.UserInfo.language=e.language,this.UserInfo.nickName=e.nickName,this.UserInfo.province=e.province)},components:{"open-button":u},methods:{setData:function(n){var e,t,o=this,r=[];Object.keys(n).forEach((function(i){r=i.split("."),e=n[i],t=o.$data,r.forEach((function(n,i){i+1==r.length?o.$set(t,n,e):t[n]||o.$set(t,n,{}),t=t[n]}))}))},getUserInfo:function(e){var t=this,o=this;n.getUserProfile({lang:"zh_CN",desc:"测试授权",withCredentials:!0,success:function(e){n.showLoading({title:"加载中"}),t.UserInfo.avatarUrl=e.userInfo.avatarUrl,t.UserInfo.city=e.userInfo.city,t.UserInfo.country=e.userInfo.country,t.UserInfo.gender=e.userInfo.gender,t.UserInfo.language=e.userInfo.language,t.UserInfo.nickName=e.userInfo.nickName,t.UserInfo.province=e.userInfo.province,o.getOpenId(o.UserInfo)},fail:function(n){console.log("getUserInfo.fail",n)}})},getOpenId:function(e){var t=this;n.login({provider:"weixin",success:function(i){r.default.wechatAuthCode2("POST",{code:i.code,res:e}).then((function(e){console.log("wechatAuthCode2",e,i),t.user.code=i.code,t.user.userid=e.userid,t.user.openid=e.openid,t.UserInfo.login=!0,o.default.commit("login",{token:null,userid:t.user.userid,openid:t.user.openid,login:t.UserInfo.login,avatarUrl:t.UserInfo.avatarUrl,city:t.UserInfo.city,country:t.UserInfo.country,gender:t.UserInfo.gender,language:t.UserInfo.language,nickName:t.UserInfo.nickName,province:t.UserInfo.province}),n.showToast({title:"登陆成功"})})).catch((function(e){n.showToast({title:"接口错误.request: "+e})})).finally((function(){setTimeout((function(){n.hideLoading()}),100)}))}})},outLogin:function(){this.show=!0},confirmLogOut:function(){var n=this;setTimeout((function(){o.default.commit("logout"),n.show=!1}),300)}},computed:{getLogin:function(){return o.default.getters["getLogin"]}},watch:{getLogin:function(n){var e=o.default.getters["getUser"];this.user.token=e.token,this.user.userid=e.userid,this.user.openid=e.openid,this.UserInfo.login=e.login,this.UserInfo.avatarUrl=e.avatarUrl,this.UserInfo.city=e.city,this.UserInfo.country=e.country,this.UserInfo.gender=e.gender,this.UserInfo.language=e.language,this.UserInfo.nickName=e.nickName,this.UserInfo.province=e.province}}};e.default=s}).call(this,t("543d")["default"])},"9a5a":function(n,e,t){},cf8f:function(n,e,t){"use strict";(function(n){t("2cc5");o(t("66fd"));var e=o(t("30eb"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])}},[["cf8f","common/runtime","common/vendor"]]]);