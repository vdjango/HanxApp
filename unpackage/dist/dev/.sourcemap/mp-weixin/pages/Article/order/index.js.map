{"version":3,"sources":["webpack:////Users/yons/code/HanfuApp-master/pages/article/order/index.vue?6cf2","webpack:////Users/yons/code/HanfuApp-master/pages/article/order/index.vue?0e95","webpack:////Users/yons/code/HanfuApp-master/pages/article/order/index.vue?c382","webpack:////Users/yons/code/HanfuApp-master/pages/article/order/index.vue?993c","uni-app:///pages/article/order/index.vue","webpack:////Users/yons/code/HanfuApp-master/pages/article/order/index.vue?751c","uni-app:///main.js"],"names":["renderjs","component","options","__file","components","uCard","uIcon","uNumberBox","uModal","uForm","uFormItem","uInput","uSkeleton","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","loading","__map","contextResults","results","item","index","$orig","__get_orig","m0","money_tole","money","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","createPage","Page"],"mappings":";;;;2DAAA,yQACIA,EADJ,2MASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,gCACZ,aAAAF,E;;;;2GCvBf,80C;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,0LAITC,MAAO,WACL,OAAO,0LAITC,WAAY,WACV,OAAO,8NAITC,OAAQ,WACN,OAAO,gMAITC,MAAO,WACL,OAAO,0LAITC,UAAW,WACT,OAAO,4PAITC,OAAQ,WACN,OAAO,oOAITC,UAAW,WACT,OAAO,mNAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACTN,EAAIO,QAUV,KATAP,EAAIQ,MAAMR,EAAIS,eAAeC,SAAS,SAASC,EAAMC,GACnD,IAAIC,EAAQb,EAAIc,WAAWH,GAEvBI,EAAKf,EAAIgB,WAAWL,EAAKM,OAC7B,MAAO,CACLJ,MAAOA,EACPE,GAAIA,OAIZf,EAAIkB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLlB,GAAIA,MAKRmB,GAAmB,EACnBC,EAAkB,GACtBzB,EAAO0B,eAAgB,G;;;;2DCvFvB,w6BAAi3B,eAAG,G;;;;0ICoFp3B,qCACA,kCACA,iC,2PAGA,CACA,KADA,WAEA,OACA,kBACA,gBACA,YAEA,WACA,WACA,cACA,SACA,MACA,QACA,UAGA,UACA,SACA,qJACA,WACA,aACA,SACA,iBACA,cACA,eAEA,MACA,WACA,YACA,aAEA,cACA,WACA,eACA,qBACA,aAEA,OACA,WACA,CACA,YACA,gBAEA,4BAGA,iBACA,CACA,YACA,kBAEA,4BAGA,QACA,CACA,YACA,iBAEA,6BAKA,QACA,cACA,eACA,sBACA,sCACA,iBAGA,OAxEA,SAwEA,cACA,OACA,UACA,yBACA,4BACA,yBACA,aAGA,wEACA,mBACA,0BACA,2BACA,iDAEA,uBACA,eACA,QAGA,mCAEA,wBACA,0BACA,0BAEA,4BACA,oCACA,0BACA,gCACA,8BACA,kCACA,kCACA,kCAEA,0BACA,wBACA,kBACA,sBACA,oBACA,aACA,kBAEA,uBACA,4BACA,MAEA,aACA,sBAIA,kBACA,aACA,uBAEA,yBAIA,QApIA,WAqIA,uCAEA,YACA,cAEA,YAGA,SACA,eADA,SACA,KAIA,gBACA,yBACA,kBAEA,aATA,SASA,GACA,mCAEA,QAZA,WAaA,aACA,+KAEA,gBAhBA,WAgBA,WAIA,uCACA,GACA,eACA,cAEA,2BACA,mBACA,mCACA,+CACA,+BACA,kBACA,oBACA,aACA,sBAEA,kBACA,aACA,6BAEA,oBACA,uBACA,0BACA,sCACA,kBACA,UAGA,oBACA,2CAMA,YAtDA,WAuDA,gBACA,QACA,wBACA,yBAGA,KA7DA,WA6DA,WAEA,kBACA,iBACA,6BACA,wBACA,wBACA,mCACA,mCACA,iCACA,kCACA,kBACA,eACA,kBACA,iBACA,sBACA,oBACA,kBACA,oBACA,kBACA,oBACA,iBACA,uBACA,aACA,gBAGA,iBACA,6BAUA,oBAKA,YAxGA,SAwGA,cACA,kBACA,aACA,aACA,mBACA,oBAWA,eACA,cAGA,0CACA,gCACA,sCACA,oCACA,wCACA,wCACA,wCACA,yBAEA,iBACA,gCACA,mBAIA,UA3IA,SA2IA,cACA,SACA,kBACA,oBAIA,wEACA,iCAKA,mCACA,mBACA,uBACA,uBACA,oBAEA,0BACA,WACA,qBACA,qBAEA,uBACA,+BACA,qBACA,2BACA,yBACA,6BACA,6BACA,+BAGA,aACA,kBAEA,kBACA,aACA,0BAEA,oBACA,uBACA,kBACA,YAMA,WA7LA,SA6LA,GAIA,yB;;;;2DCvaA,gnDAAkkD,eAAG,G;;;;;;;;wECArkD,qBACA,sBACA,kD,mDACAC,EAAWC,a","file":"pages/article/order/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=87753f62&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/article/order/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=87753f62&\"","var components\ntry {\n  components = {\n    uCard: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-card/u-card\" */ \"uview-ui/components/u-card/u-card.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-number-box/u-number-box\" */ \"uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-modal/u-modal\" */ \"uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uSkeleton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-skeleton/u-skeleton\" */ \"uview-ui/components/u-skeleton/u-skeleton.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.loading\n    ? _vm.__map(_vm.contextResults.results, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var m0 = _vm.money_tole(item.money)\n        return {\n          $orig: $orig,\n          m0: m0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"ticket u-skeleton\">\n\t\t\n\t\t<view v-if=\"loading\">\n\t\t\t<u-card v-for=\"index in [1, 2, 3, 4]\" :key=\"'index'+index\"\n\t\t\t:head-border-bottom=\"false\" :show-head=\"false\" class=\"\">\n\t\t\t\t<view class=\"\" slot=\"body\">\n\t\t\t\t\t<view class=\"u-skeleton-fillet u-body-item u-relative u-col-between u-p-t-0\">\n\t\t\t\t\t\t<view class=\"u-skeleton-rect u-body-item-title u-line-2 u-font-30 ticket-name\">??????????</view>\n\t\t\t\t\t\t<view class=\"u-skeleton-rect u-body-item-title u-line-2 u-font-13 u-row-left u-text-right ticket-number\">剩余 ?? 张</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"u-skeleton-fillet u-body-item u-flex u-row-between u-p-b-0 u-padding-35 color-type-success\">\n\t\t\t\t\t\t<view class=\"u-skeleton-rect u-body-item-title u-line-2 u-font-40 ticket-money\">¥ ???</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"u-skeleton-rect\" slot=\"foot\">\n\t\t\t\t\t<u-icon name=\"clock\" size=\"34\" color=\"\" label=\"报名此票种需要主办方审核\"></u-icon>\n\t\t\t\t</view>\n\t\t\t</u-card>\n\t\t</view>\n\t\t\n\t\t<view v-else>\n\t\t\t<u-card v-for=\"(item, index) in contextResults.results\" :key=\"index\"\n\t\t\t:head-border-bottom=\"false\" \n\t\t\t:show-head=\"false\" \n\t\t\t:class=\"{'ticket-election': election === index}\"\n\t\t\t@click=\"ticketElection(index, item)\">\n\t\t\telection: {{election}} = {{index}}\n\t\t\t\t<view class=\"\" slot=\"body\">\n\t\t\t\t\t<view class=\"u-body-item u-relative u-col-between u-p-t-0\">\n\t\t\t\t\t\t<view class=\"u-body-item-title u-line-2 u-font-30 ticket-name\">{{item.name}}</view>\n\t\t\t\t\t\t<view class=\"u-body-item-title u-line-2 u-font-13 u-row-left u-text-right ticket-number\">剩余 {{item.num}} 张</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"u-body-item u-flex u-row-between u-p-b-0 u-padding-35 color-type-success\">\n\t\t\t\t\t\t<view class=\"u-body-item-title u-line-2 u-font-40 ticket-money\">¥ {{ money_tole(item.money) }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"election === index\" fclass=\"u-flex\" slot=\"foot\">\n\t\t\t\t\t<u-icon name=\"clock\" size=\"34\" color=\"#19be6b\" label-color=\"#19be6b\" label=\"已选择当前票种,请选择数量\"></u-icon>\n\t\t\t\t\t<u-number-box \n\t\t\t\t\t\tv-if=\"election === index\"\n\t\t\t\t\t\tv-model=\"specSelected.number\"\n\t\t\t\t\t\t:min=\"1\" :max=\"item.num\"\n\t\t\t\t\t\t:input-width=\"60\"\n\t\t\t\t\t\tclass=\"u-row-right flex-number-box\">\n\t\t\t\t\t</u-number-box>\n\t\t\t\t</view>\n\t\t\t</u-card>\n\t\t</view>\n\t\t\n\t\t<u-modal v-model=\"pay_\" @confirm=\"WPay\" :title=\"pay_title\" :confirm-text=\"pay_confirm_text\" ref=\"uModal\" :show-cancel-button=\"pay_cancel\">\n\t\t\t<view class=\"slot-content\">\n\t\t\t\t<rich-text :nodes=\"pay_context\"></rich-text>\n\t\t\t</view>\n\t\t</u-modal>\n\t\t\n\t\t<u-modal v-model=\"pay_success\" @confirm=\"pay_confirm\" content=\"已成功购票，后续请留意主页票务选项（后期增加）\" title=\"成功\" confirm-text=\"完成\">\n\t\t</u-modal>\n\t\t\n\t\t<u-modal v-model=\"userInfoText.loading\" @confirm=\"confirmUserInfo\" :async-close=\"true\" ref=\"uModalUserInfo\">\n\t\t\t<view class=\"slot-content\">\n\t\t\t\t<u-form :model=\"userInfoText\" ref=\"uForm\">\n\t\t\t\t\t\t<u-form-item label=\"姓名\" prop=\"full_name\">\n\t\t\t\t\t\t\t<u-input v-model=\"userInfoText.full_name\" />\n\t\t\t\t\t\t</u-form-item>\n\t\t\t\t\t\t<u-form-item label=\"身份证号\" prop=\"certificates_no\">\n\t\t\t\t\t\t\t<u-input v-model=\"userInfoText.certificates_no\" placeholder=\"请确保身份证号正确\" />\n\t\t\t\t\t\t</u-form-item>\n\t\t\t\t\t\t<u-form-item label=\"手机号\" prop=\"mobile\">\n\t\t\t\t\t\t\t<u-input v-model=\"userInfoText.mobile\" placeholder=\"请确保手机号正确\" />\n\t\t\t\t\t\t</u-form-item>\n\t\t\t\t\t</u-form>\n\t\t\t</view>\n\t\t</u-modal>\n\t\t\n\t\t<x-tabber v-if=\"user.openid\" name=\"下单\" :skeleton=\"loading\" @enroll=\"confirm\"></x-tabber>\n\t\t<x-tabber v-else name=\"请先登陆\" :skeleton=\"loading\" @enroll=\"getUserInfo\"></x-tabber>\n\n\t\t<u-skeleton :loading=\"loading\" :animation=\"true\" bgColor=\"#FFF\"></u-skeleton>\n\t\t\n\t</view>\n</template>\n\n<script>\n\timport store from '@/store/index.js' \n\timport axios from '@/axios/index.js'\n\timport pageRouter from '@/router/index.js'\n\timport xtabber from '@/components/tabber/index.vue'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tarticleContext: {},\n\t\t\t\tcontextResults: {\n\t\t\t\t\tresults: []\n\t\t\t\t},\n\t\t\t\telection: 0,\n\t\t\t\tloading: true, // 是否显示骨架屏组件\n\t\t\t\tspecSelected: {\n\t\t\t\t\tnumber: 1,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: null,\n\t\t\t\t\t\tmoney: 0\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tUserInfo: {\n\t\t\t\t\tlogin: false,\n\t\t\t\t\tavatarUrl: \"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIVUHJYDoYklJFAIIdmiaQIrfXhSHXUzW9n6Ll06brS7m0xU9FYc8A9ibbCickaicics5mUHvAAWib9iabibQ/132\",\n\t\t\t\t\tcity: \"门头沟\",\n\t\t\t\t\tcountry: \"中国\",\n\t\t\t\t\tgender: 1,\n\t\t\t\t\tlanguage: \"zh_CN\",\n\t\t\t\t\tnickName: \"君思\",\n\t\t\t\t\tprovince: \"北京\"\n\t\t\t\t},\n\t\t\t\tuser: {\n\t\t\t\t\ttoken: null,\n\t\t\t\t\tuserid: null,\n\t\t\t\t\topenid: null\n\t\t\t\t},\n\t\t\t\tuserInfoText: {\n\t\t\t\t\tloading: false,\n\t\t\t\t\tfull_name: null,\n\t\t\t\t\tcertificates_no: null,\n\t\t\t\t\tmobile: null\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\tfull_name: [\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\trequired: true, \n\t\t\t\t\t\t\tmessage: '请输入姓名', \n\t\t\t\t\t\t\t// 可以单个或者同时写两个触发验证方式 \n\t\t\t\t\t\t\ttrigger: ['change','blur'],\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tcertificates_no: [\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\trequired: true, \n\t\t\t\t\t\t\tmessage: '请输入身份证号', \n\t\t\t\t\t\t\t// 可以单个或者同时写两个触发验证方式 \n\t\t\t\t\t\t\ttrigger: ['change','blur'],\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tmobile: [\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\trequired: true, \n\t\t\t\t\t\t\tmessage: '请输入手机号', \n\t\t\t\t\t\t\t// 可以单个或者同时写两个触发验证方式 \n\t\t\t\t\t\t\ttrigger: ['change','blur'],\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\n\t\t\t\t},\n\t\t\t\tpay_: false,\n\t\t\t\tpay_cancel: true,\n\t\t\t\tpay_title: '支付',\n\t\t\t\tpay_confirm_text: '付款',\n\t\t\t\tpay_context: '已成功购票，后续请留意主页票务选项（后期增加）',\n\t\t\t\tpay_success: false\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconst activityId = options.id\n\t\t\tconst activityName = options.title\n\t\t\tthis.articleContext.id = activityId\n\t\t\tthis.articleContext.title = activityName\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t    title: \"票种\"\n\t\t\t});\n\t\t\t\n\t\t\taxios.activityTicket('GET', {activity_key: activityId}, null).then((response)=>{ \n\t\t\t\tthis.contextResults = response\n\t\t\t\tconsole.log('response', response)\n\t\t\t\tif (this.contextResults.results) {\n\t\t\t\t\tthis.specSelected.data = this.contextResults.results[0]\n\t\t\t\t}\n\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}, 300)\n\t\t\t})\n\t\t\t\n\t\t\tconst user = store.getters['getUser']\n\t\t\t\n\t\t\tthis.user.token = user.token\n\t\t\tthis.user.userid = user.userid\n\t\t\tthis.user.openid = user.openid\n\t\t\t\n\t\t\tthis.UserInfo.login = user.login\n\t\t\tthis.UserInfo.avatarUrl = user.avatarUrl\n\t\t\tthis.UserInfo.city = user.city\n\t\t\tthis.UserInfo.country = user.country\n\t\t\tthis.UserInfo.gender = user.gender\n\t\t\tthis.UserInfo.language = user.language\n\t\t\tthis.UserInfo.nickName = user.nickName\n\t\t\tthis.UserInfo.province = user.province\n\t\t\t\n\t\t\taxios.userInfo('GET', {\n\t\t\t\tuser: this.user.userid\n\t\t\t}).then((response) => {\n\t\t\t\tconsole.log('验证通过', response)\n\t\t\t\tif(response.results.length < 1){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请添加用户信息'\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.userInfoText.loading = true\n\t\t\t\t\t}, 100)\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '获取用户信息成功'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}).catch(()=>{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取用户信息失败。'\n\t\t\t\t});\n\t\t\t}).finally(()=>{\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tonReady() {\n\t\t\tthis.$refs.uForm.setRules(this.rules);\n\t\t},\n\t\tcomponents: {\n\t\t\t\"x-tabber\": xtabber\n\t\t},\n\t\tcomputed: {\n\t\t\t\n\t\t},\n\t\tmethods:{\n\t\t\tticketElection(index, item){\n\t\t\t\t/**\n\t\t\t\t * 选择的票种\n\t\t\t\t */\n\t\t\t\tthis.election = index\n\t\t\t\tthis.specSelected.data = item\n\t\t\t\tconsole.log(index, item)\n\t\t\t},\n\t\t\tnumberChange(data){\n\t\t\t\tthis.specSelected.number = data.number;\n\t\t\t},\n\t\t\tconfirm(){\n\t\t\t\tthis.pay_ = true\n\t\t\t\tthis.pay_context = '票种：' + this.specSelected.data.name + '<br> 数量：' + this.specSelected.number + '张<br> 价格：' + this.money_tole(this.specSelected.data.money) * this.specSelected.number + '元'\n\t\t\t},\n\t\t\tconfirmUserInfo(){\n\t\t\t\t/**\n\t\t\t\t * 提交用户资料\n\t\t\t\t */\n\t\t\t\tthis.$refs.uForm.validate(valid => {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t    title: '加载中'\n\t\t\t\t\t\t})\n\t\t\t\t\t\taxios.userInfo('POST', {\n\t\t\t\t\t\t\tuser: this.user.userid,\n\t\t\t\t\t\t\tfull_name: this.userInfoText.full_name,\n\t\t\t\t\t\t\tcertificates_no: this.userInfoText.certificates_no,\n\t\t\t\t\t\t\tmobile: this.userInfoText.mobile\n\t\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\t\tconsole.log('验证通过')\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '用户信息添加成功'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).catch(()=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '用户信息添加失败，请不要购票。'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).finally(()=>{\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.userInfoText.loading = false\n\t\t\t\t\t\t\t\tthis.$refs.uModalUserInfo.clearLoading();\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t}, 100)\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('验证失败');\n\t\t\t\t\t\tthis.$refs.uModalUserInfo.clearLoading();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\tpay_confirm(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t    delta: 1,\n\t\t\t\t    animationType: 'pop-out',\n\t\t\t\t    animationDuration: 200\n\t\t\t\t});\n\t\t\t},\n\t\t\tWPay(){\n\t\t\t\t// 支付\n\t\t\t\tconsole.log('支付')\n\t\t\t\tif (this.user.openid) {\n\t\t\t\t\taxios.paymentPay('POST', {\n\t\t\t\t\t\tuserid: this.user.userid, \n\t\t\t\t\t\topenid: this.user.openid, \n\t\t\t\t\t\ttrade_no: this.specSelected.data.id,\n\t\t\t\t\t\tmoney: this.specSelected.data.money,\n\t\t\t\t\t\tname: this.specSelected.data.name,\n\t\t\t\t\t\tnumber: this.specSelected.number\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\t\ttimeStamp: response.timeStamp,\n\t\t\t\t\t\t\tnonceStr: response.nonceStr,\n\t\t\t\t\t\t\tpackage: response.package,\n\t\t\t\t\t\t\tsignType: response.signType,\n\t\t\t\t\t\t\tpaySign: response.paySign,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tthis.pay_success = true\n\t\t\t\t\t\t\t\tconsole.log('支付成功：', res)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t    title: '支付成功'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\tconsole.log('支付失败：', res)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t// complete\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t\t// \tthis.pay_ = false;\n\t\t\t\t\t\t\t// }, 100)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('未登录')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\tgetUserInfo(e) { \n\t\t\t\tuni.getUserProfile({\n\t\t\t\t\tlang: 'zh_CN',\n\t\t\t\t\tdesc: '需要登陆哦',\n\t\t\t\t\twithCredentials: true,\n\t\t\t\t\tsuccess:(res) => {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * avatarUrl: \"https://thirdwx.qlogo.cn/mmop...\"\n\t\t\t\t\t\t * city: \"门头沟\"\n\t\t\t\t\t\t * country: \"中国\"\n\t\t\t\t\t\t * gender: 1\n\t\t\t\t\t\t * language: \"zh_CN\"\n\t\t\t\t\t\t * login: true\n\t\t\t\t\t\t * nickName: \"君思\"\n\t\t\t\t\t\t * province: \"北京\"\n\t\t\t\t\t\t */\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t    title: '登陆中'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.UserInfo.avatarUrl = res.userInfo.avatarUrl\n\t\t\t\t\t\tthis.UserInfo.city = res.userInfo.city\n\t\t\t\t\t\tthis.UserInfo.country = res.userInfo.country \n\t\t\t\t\t\tthis.UserInfo.gender = res.userInfo.gender\n\t\t\t\t\t\tthis.UserInfo.language = res.userInfo.language \n\t\t\t\t\t\tthis.UserInfo.nickName = res.userInfo.nickName\n\t\t\t\t\t\tthis.UserInfo.province = res.userInfo.province\n\t\t\t\t\t\tthis.getOpenId(this.UserInfo)\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tconsole.log('getUserInfo.fail');\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetOpenId(resdata) {\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: (loginRes) => {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * code: \"051vOrFa1lp2AB016wFa1ntfHf2vOrF6\"\n\t\t\t\t\t\t */\n\t\t\t\t\t\taxios.wechatAuthCode2('POST', {code: loginRes.code, res: resdata}).then((res) => {\n\t\t\t\t\t\t\tconsole.log('wechatAuthCode2', res)\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * openid: \"ovil75JE6yfeDfp6fqYa8rt67fQ4\"\n\t\t\t\t\t\t\t * userid: 2\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconsole.log('wechatAuthCode2', res, loginRes)\n\t\t\t\t\t\t\tthis.user.code = loginRes.code\n\t\t\t\t\t\t\tthis.user.userid = res.userid\n\t\t\t\t\t\t\tthis.user.openid = res.openid\n\t\t\t\t\t\t\tthis.UserInfo.login = true\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstore.commit('login', {\n\t\t\t\t\t\t\t\ttoken: null,\n\t\t\t\t\t\t\t\tuserid: this.user.userid,\n\t\t\t\t\t\t\t\topenid: this.user.openid,\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlogin: this.UserInfo.login,\n\t\t\t\t\t\t\t\tavatarUrl: this.UserInfo.avatarUrl,\n\t\t\t\t\t\t\t\tcity: this.UserInfo.city,\n\t\t\t\t\t\t\t\tcountry: this.UserInfo.country,\n\t\t\t\t\t\t\t\tgender: this.UserInfo.gender,\n\t\t\t\t\t\t\t\tlanguage: this.UserInfo.language,\n\t\t\t\t\t\t\t\tnickName: this.UserInfo.nickName,\n\t\t\t\t\t\t\t\tprovince: this.UserInfo.province\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '登陆成功'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).catch(()=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '接口错误.request'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}).finally(()=>{\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t},\n\t\t\tmoney_tole(money){\n\t\t\t\t/**\n\t\t\t\t * 价格 分转元\n\t\t\t\t */\n\t\t\t\treturn parseInt(money)/10\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.u-card-wrap { \n\t\tbackground-color: u-bg-color;\n\t\tpadding: 1px;\n\t}\n\t\n\t.u-body-item {\n\t\tfont-size: 32rpx;\n\t\tcolor: #333;\n\t\tpadding: 20rpx 10rpx;\n\t}\n\t\t\n\t.u-body-item image {\n\t\twidth: 120rpx;\n\t\tflex: 0 0 120rpx;\n\t\theight: 120rpx;\n\t\tborder-radius: 8rpx;\n\t\tmargin-left: 12rpx;\n\t}\n\t\n\t.ticket-money {\n\t\tcolor: $u-type-error;\n\t}\n\t.ticket-name {\n\t\tfloat: left;\n\t\tcolor: $u-main-color;\n\t}\n\t.ticket-number {\n\t\tcolor: $u-tips-color;\n\t}\n\t.ticket-election {\n\t\tmargin: 30upx !important;\n\t\tbackground: content-box;\n\t\tborder: 2px solid #19BE6B;\n\t}\n\t.flex-number-box {\n\t\tmargin-left: auto;\n\t}\n\t\n\t\n\t.slot-content {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: $u-content-color;\n\t\t\tpadding-left: 30rpx;\n\t\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/article/order/index.vue'\ncreatePage(Page)"],"sourceRoot":""}